{% extends "master.html" %}
{% block title %}Question 2{% endblock %}
{% block head %}
  {{ super() }}

{% endblock %}
{% block content %}
<div class="px-3">
    <h1>Question 2</h1>
    <hr>
    <h2>Task:</h2> 
    <p>
      Build a simple API on Flask that accepts a POST request given an email address. 
      <br>Then, create a basic web page that uses JavaScript to create a POST request to retrieve the name and points given an email.
    </p>
    <h2>Solution</h2>
    <form action="#" method="post">
      <input type="email" placeholder="Email" name="email"><input type="submit" value="Submit">
    </form>
    {%- for category, message in get_flashed_messages(with_categories = true) %}
    <div class="alert alert-{{category}} alert-dismissible fade show " role="alert">
    <strong class="mb-0">{{ message }}</strong>
    <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {%- endfor %}
    {%- if client -%}
    <div>
        <table class="table mt-3">
          <thead>
            <tr class="table-dark">
              <th>Email</th>
              <th>Name</th>
              <th>Points</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{client.email}}</td>
              <td>{{client.name}}</td>
              <td>{{client.points}}</td>
            </tr>
          </tbody>
        </table>
    </div>
    {%- endif -%}
</div>
{% endblock %}